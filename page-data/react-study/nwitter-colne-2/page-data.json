{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/react-study/nwitter-colne-2/",
    "result": {"data":{"cur":{"id":"eda83b69-056e-5228-b55b-a3a459d5056b","html":"<h2 id=\"노마드코더---twitter-clone\" style=\"position:relative;\"><a href=\"#%EB%85%B8%EB%A7%88%EB%93%9C%EC%BD%94%EB%8D%94---twitter-clone\" aria-label=\"노마드코더   twitter clone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://nomadcoders.co/nwitter/lobby\">노마드코더 - Twitter Clone</a></h2>\n<ul>\n<li>version 9</li>\n</ul>\n<h2 id=\"a-authenticationlogin\" style=\"position:relative;\"><a href=\"#a-authenticationlogin\" aria-label=\"a authenticationlogin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A. Authentication(Login)</h2>\n<p><strong>Using API</strong></p>\n<ul>\n<li><a href=\"https://firebase.google.com/docs/reference/js/auth?authuser=0\">@firebase/auth</a></li>\n</ul>\n<p><strong><code class=\"language-text\">getAuth</code>,<code class=\"language-text\">createUserWithEmailAndPassword</code>, <code class=\"language-text\">signInWithEmailAndPassword</code>,<code class=\"language-text\">setPersistence</code>,<code class=\"language-text\">onAuthStateChanged</code>,<code class=\"language-text\">signInWithPopup</code>,</strong>\r\n<br/></p>\n<h2 id=\"b-firestore-database\" style=\"position:relative;\"><a href=\"#b-firestore-database\" aria-label=\"b firestore database permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>B. Firestore Database</h2>\n<ul>\n<li>Firestore는 NoSQL Database</li>\n</ul>\n<p><strong>특성</strong></p>\n<ol>\n<li>Collection이라고 불리는 것을 갖고 있다.(폴더와 같다고 보면 됨)</li>\n<li>Document가 있다(문서라고 보면 됨)</li>\n<li>하나의 database는 collection들을 갖고 있고, 하나의 collection은 Document들을 가지고 있다.</li>\n</ol>\n<p><strong>사용 API</strong></p>\n<ul>\n<li><a href=\"https://firebase.google.com/docs/reference/js/firestore_?authuser=0\">@firebase/firestore</a></li>\n</ul>\n<p><strong><code class=\"language-text\">collection</code>, <code class=\"language-text\">addDoc</code></strong></p>\n<blockquote>\n<h3 id=\"collection--document-생성-예시\" style=\"position:relative;\"><a href=\"#collection--document-%EC%83%9D%EC%84%B1-%EC%98%88%EC%8B%9C\" aria-label=\"collection  document 생성 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>collection &#x26; document 생성 예시</h3>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> docRef <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">addDoc</span><span class=\"token punctuation\">(</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span>storeService<span class=\"token punctuation\">,</span> <span class=\"token string\">\"nweets\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n    nweet<span class=\"token punctuation\">,</span>\r\n    createdAt<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token function\">setNweet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Document written with ID: \"</span><span class=\"token punctuation\">,</span> docRef<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error adding document: \"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<blockquote>\n<h3 id=\"data-read\" style=\"position:relative;\"><a href=\"#data-read\" aria-label=\"data read permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Read</h3>\n</blockquote>\n<ul>\n<li>공식문서 참조- <a href=\"https://firebase.google.com/docs/firestore/quickstart?authuser=0#read_data\">예시</a></li>\n</ul>\n<br/>\n<ul>\n<li><a href=\"/posts/React\">React</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%85%B8%EB%A7%88%EB%93%9C%EC%BD%94%EB%8D%94---twitter-clone\">노마드코더 - Twitter Clone</a></li>\n<li><a href=\"#a-authenticationlogin\">A. Authentication(Login)</a></li>\n<li><a href=\"#b-firestore-database\">B. Firestore Database</a></li>\n</ul>\n</div>","excerpt":"노마드코더 - Twitter Clone version 9 A. Authentication(Login) Using API @firebase/auth ,, ,,,,\r\n B. Firestore Database Firestore는 NoSQL Database 특성 Collection이라고 불리는 것을 갖고 있다.(폴더와 같다고 보면 됨) Document가 있다(문서라고 보면 됨) 하나의 database는 collection들을 갖고 있고, 하나의 collection은 Document들을 가지고 있다. 사용 API @firebase/firestore ,  collection & document 생성 예시 Data Read 공식문서 참조- 예시 React 노마드코더 - Twitter Clone A. Authentication(Login) B. Firestore Database","frontmatter":{"date":"February 12, 2022","title":"[React] Nwitter Clone#2","categories":"React","author":"정굥","emoji":"🧢"},"fields":{"slug":"/react-study/nwitter-colne-2/"}},"next":{"id":"e809d878-1325-5c76-a7d5-724a87d49a4e","html":"<h2 id=\"노마드코더---twitter-clone\" style=\"position:relative;\"><a href=\"#%EB%85%B8%EB%A7%88%EB%93%9C%EC%BD%94%EB%8D%94---twitter-clone\" aria-label=\"노마드코더   twitter clone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://nomadcoders.co/nwitter/lobby\">노마드코더 - Twitter Clone</a></h2>\n<h2 id=\"a-reactjs-setup\" style=\"position:relative;\"><a href=\"#a-reactjs-setup\" aria-label=\"a reactjs setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A. ReactJs Setup</h2>\n<ol>\n<li>CRA 리액트 프로젝트 생성</li>\n</ol>\n<ul>\n<li>강의는 Typescript 사용하지 않지만 Typescript 공부를 위해 Typescript로 진행 한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ npx create-react-app <span class=\"token punctuation\">[</span>project-name<span class=\"token punctuation\">]</span> --template typescript\r\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> typescript @types/node @types/react @types/react-dom @types/jest</code></pre></div>\n<ol start=\"2\">\n<li>원격 저장소 연결 &#x26; Initial commit</li>\n</ol>\n<ul>\n<li>명령어로 안하고 Github Desktop으로 진행</li>\n</ul>\n<h2 id=\"b-firebase-setup\" style=\"position:relative;\"><a href=\"#b-firebase-setup\" aria-label=\"b firebase setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>B. <a href=\"https://console.firebase.google.com/u/0/?hl=ko\">Firebase</a> Setup</h2>\n<ol>\n<li>Firebase 프로젝트 만들기</li>\n<li>app 생성</li>\n<li>Firebase SDK 추가</li>\n</ol>\n<ul>\n<li>npm 설치</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save firebase</code></pre></div>\n<ul>\n<li>firebase.js 추가 -> fbase.js (절대경로 import로 설정했더니 firebase랑 충돌나서 파일명 변경)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> initializeApp <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"firebase/app\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> firebaseConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  apiKey<span class=\"token operator\">:</span> <span class=\"token string\">\"AIzaSyC9mH5Mp7zJ41KInsLGLTxwEUfxGXKXCG8\"</span><span class=\"token punctuation\">,</span>\r\n  authDomain<span class=\"token operator\">:</span> <span class=\"token string\">\"nwiter-6c8aa.firebaseapp.com\"</span><span class=\"token punctuation\">,</span>\r\n  projectId<span class=\"token operator\">:</span> <span class=\"token string\">\"nwiter-6c8aa\"</span><span class=\"token punctuation\">,</span>\r\n  storageBucket<span class=\"token operator\">:</span> <span class=\"token string\">\"nwiter-6c8aa.appspot.com\"</span><span class=\"token punctuation\">,</span>\r\n  messagingSenderId<span class=\"token operator\">:</span> <span class=\"token string\">\"1000625179969\"</span><span class=\"token punctuation\">,</span>\r\n  appId<span class=\"token operator\">:</span> <span class=\"token string\">\"1:1000625179969:web:dfb8050326e2ff992ba5c0\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">initializeApp</span><span class=\"token punctuation\">(</span>firebaseConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> app</code></pre></div>\n<h2 id=\"c-env-파일-생성-및-사용\" style=\"position:relative;\"><a href=\"#c-env-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%82%AC%EC%9A%A9\" aria-label=\"c env 파일 생성 및 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>C. .env 파일 생성 및 사용</h2>\n<ul>\n<li>보안을 해결 해주는건 아니고 Github에서 코드만 안보이게 하기 위해 사용.</li>\n<li><code class=\"language-text\">cra</code>를 사용한 경우 환경 변수 써야 한다면 변수명은 REACT_APP으로 시작하고 그 뒤로 이름을 붙여줘야 한다.</li>\n</ul>\n<blockquote>\n<p>예시</p>\n</blockquote>\n<ul>\n<li>.env</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">REACT_APP_API_KEY= ...</code></pre></div>\n<ul>\n<li>firebase.ts</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> firebaseConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  apiKey<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">REACT_APP_API_KEY</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token operator\">...</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"d-firebase-authenticationv9\" style=\"position:relative;\"><a href=\"#d-firebase-authenticationv9\" aria-label=\"d firebase authenticationv9 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>D. Firebase Authentication(v9)</h2>\n<ol>\n<li>Import</li>\n</ol>\n<ul>\n<li>firebase.ts -> fbase.ts</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">...</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>getAuth<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"firebase/auth\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token operator\">...</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> authService <span class=\"token operator\">=</span> <span class=\"token function\">getAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token operator\">...</span></code></pre></div>\n<ul>\n<li>App.tsx</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">...</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>authService<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"firebase\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token operator\">...</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLoggedIn<span class=\"token punctuation\">,</span> setIsLoggedIn<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>authService<span class=\"token punctuation\">.</span>currentUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token operator\">...</span></code></pre></div>\n<ul>\n<li>만약 절대경로로 파일을 import 하고 싶다면 tsconfig.json에 아래 추가 ts는</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"baseUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"src\"</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src\"</span><span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>이후는 firebase site에서 프로젝트 authentication 설정. 간략하게 적음</li>\n</ul>\n<ol>\n<li>파이어베이스 홈페이지 Get started</li>\n<li>프로젝트 생성 및 클릭</li>\n<li>Authentication 클릭</li>\n<li>Sign-in-method에서 Sign-in-providers <code class=\"language-text\">Email/Password</code>, <code class=\"language-text\">Google</code>, <code class=\"language-text\">Git Hub</code> 추가</li>\n<li>Git Hub - Setting > Developer settings > OAuth Apps > App 생성 후 Client관련 정보로 추가</li>\n</ol>\n<br/>\n<ul>\n<li><a href=\"/posts/React\">React</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%85%B8%EB%A7%88%EB%93%9C%EC%BD%94%EB%8D%94---twitter-clone\">노마드코더 - Twitter Clone</a></li>\n<li><a href=\"#a-reactjs-setup\">A. ReactJs Setup</a></li>\n<li><a href=\"#b-firebase-setup\">B. Firebase Setup</a></li>\n<li><a href=\"#c-env-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%82%AC%EC%9A%A9\">C. .env 파일 생성 및 사용</a></li>\n<li><a href=\"#d-firebase-authenticationv9\">D. Firebase Authentication(v9)</a></li>\n</ul>\n</div>","frontmatter":{"date":"February 11, 2022","title":"[React] Nwitter Clone#1","categories":"React","author":"정굥","emoji":"🧢"},"fields":{"slug":"/react-study/nwitter-colne-1/"}},"prev":{"id":"949ca130-6fe8-5581-838c-c57f7e622236","html":"<h2 id=\"노마드코더---twitter-clone\" style=\"position:relative;\"><a href=\"#%EB%85%B8%EB%A7%88%EB%93%9C%EC%BD%94%EB%8D%94---twitter-clone\" aria-label=\"노마드코더   twitter clone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://nomadcoders.co/nwitter/lobby\">노마드코더 - Twitter Clone</a></h2>\n<ul>\n<li>version 9</li>\n</ul>\n<h3 id=\"이전-post-이어서-작성-firestore-database\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%84-post-%EC%9D%B4%EC%96%B4%EC%84%9C-%EC%9E%91%EC%84%B1-firestore-database\" aria-label=\"이전 post 이어서 작성 firestore database permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이전 Post 이어서 작성 <a href=\"../nwitter-colne-2/#b-firestore-database\">Firestore Database</a></h3>\n<h2 id=\"b-firestore-database\" style=\"position:relative;\"><a href=\"#b-firestore-database\" aria-label=\"b firestore database permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>B. Firestore Database</h2>\n<p><strong>사용 API(추가)</strong>\r\n<strong><code class=\"language-text\">getFirestore</code>,<code class=\"language-text\">collection</code>,<code class=\"language-text\">addDoc</code>,<code class=\"language-text\">getDocs</code>,<code class=\"language-text\">onSnapshot</code>,<code class=\"language-text\">query</code>,<code class=\"language-text\">orderBy</code>,<code class=\"language-text\">doc</code>,<code class=\"language-text\">deleteDoc</code>,<code class=\"language-text\">updateDoc</code>,</strong></p>\n<h3 id=\"real-time\" style=\"position:relative;\"><a href=\"#real-time\" aria-label=\"real time permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Real time</h3>\n<ul>\n<li>onSnapshot은 데이터베이스에 변동이 생기면 알림을 받아서 Realtime에 사용</li>\n<li>공식문서 참조= <a href=\"https://firebase.google.com/docs/firestore/manage-data/delete-data#delete_documents\">예시</a></li>\n</ul>\n<h3 id=\"delete\" style=\"position:relative;\"><a href=\"#delete\" aria-label=\"delete permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Delete</h3>\n<ul>\n<li>공식문서 참조- <a href=\"https://firebase.google.com/docs/firestore/quickstart?authuser=0#read_data\">예시</a></li>\n</ul>\n<h3 id=\"uodate\" style=\"position:relative;\"><a href=\"#uodate\" aria-label=\"uodate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Uodate</h3>\n<p>공식문서 참조- <a href=\"https://firebase.google.com/docs/firestore/query-data/listen#listen_to_multiple_documents_in_a_collection\">예시</a></p>\n<h2 id=\"c-firebase-storage\" style=\"position:relative;\"><a href=\"#c-firebase-storage\" aria-label=\"c firebase storage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>C. Firebase Storage</h2>\n<p><strong>사용 API</strong>\r\n<strong><code class=\"language-text\">getStorage</code>,<code class=\"language-text\">ref</code>,<code class=\"language-text\">uploadString</code>,<code class=\"language-text\">getDownloadURL</code>,<code class=\"language-text\">deleteObject</code></strong></p>\n<h3 id=\"api-filereader\" style=\"position:relative;\"><a href=\"#api-filereader\" aria-label=\"api filereader permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API <a href=\"https://developer.mozilla.org/ko/docs/Web/API/FileReader\">FileReader</a></h3>\n<blockquote>\n<p>예시</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"> <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n    currentTarget<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> files <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> event<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> theFile <span class=\"token operator\">=</span> files <span class=\"token operator\">&amp;&amp;</span> files<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  reader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onloadend</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">finishedEvent<span class=\"token operator\">:</span> any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n      currentTarget<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> result <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> finishedEvent<span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">setAttachment</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>theFile <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsDataURL</span><span class=\"token punctuation\">(</span>theFile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>typescript로 작성시 Error</p>\n</blockquote>\n<ul>\n<li>onloadend - EventTarget | null’ 형식에 ‘result’ 속성이 없습니다.</li>\n<li>Error 처리 - 여러가지 방법이 있었으나 간단하게 any형으로 처리하였다.</li>\n</ul>\n<h3 id=\"storage-upload\" style=\"position:relative;\"><a href=\"#storage-upload\" aria-label=\"storage upload permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://firebase.google.com/docs/storage/web/upload-files?authuser=0#upload_from_a_string\">Storage Upload</a></h3>\n<ul>\n<li><code class=\"language-text\">uuidv4</code> - 랜덤으로 uid 생성</li>\n</ul>\n<blockquote>\n<p>예시</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> attachmentRef <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span>storageService<span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>userObj<span class=\"token operator\">?.</span>uid<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">uuidv4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">uploadString</span><span class=\"token punctuation\">(</span>\r\n  attachmentRef<span class=\"token punctuation\">,</span>\r\n  attachment<span class=\"token punctuation\">,</span>\r\n  <span class=\"token string\">\"data_url\"</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nattachmentUrl <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getDownloadURL</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"delete-file\" style=\"position:relative;\"><a href=\"#delete-file\" aria-label=\"delete file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://firebase.google.com/docs/storage/web/delete-files?authuser=0#delete_a_file\">Delete File</a></h3>\n<blockquote>\n<p>예시</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Create a reference to the file to delete</span>\r\n<span class=\"token keyword\">const</span> desertRef <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span>storageService<span class=\"token punctuation\">,</span> nweetObj<span class=\"token punctuation\">.</span>attachmentUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// Delete the file</span>\r\n<span class=\"token keyword\">await</span> <span class=\"token function\">deleteObject</span><span class=\"token punctuation\">(</span>desertRef<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<ul>\n<li><a href=\"/posts/React\">React</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%85%B8%EB%A7%88%EB%93%9C%EC%BD%94%EB%8D%94---twitter-clone\">노마드코더 - Twitter Clone</a></p>\n<ul>\n<li><a href=\"#%EC%9D%B4%EC%A0%84-post-%EC%9D%B4%EC%96%B4%EC%84%9C-%EC%9E%91%EC%84%B1-firestore-database\">이전 Post 이어서 작성 Firestore Database</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#b-firestore-database\">B. Firestore Database</a></p>\n<ul>\n<li><a href=\"#real-time\">Real time</a></li>\n<li><a href=\"#delete\">Delete</a></li>\n<li><a href=\"#uodate\">Uodate</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#c-firebase-storage\">C. Firebase Storage</a></p>\n<ul>\n<li><a href=\"#api-filereader\">API FileReader</a></li>\n<li><a href=\"#storage-upload\">Storage Upload</a></li>\n<li><a href=\"#delete-file\">Delete File</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"February 13, 2022","title":"[React] Nwitter Clone#3","categories":"React","author":"정굥","emoji":"🧢"},"fields":{"slug":"/react-study/nwitter-colne-3/"}},"site":{"siteMetadata":{"siteUrl":"https://wjdrbdyd.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/react-study/nwitter-colne-2/","nextSlug":"/react-study/nwitter-colne-1/","prevSlug":"/react-study/nwitter-colne-3/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}